<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openspace-svn] r267 - in trunk: . icons/big src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openspace-svn/2006-March/index.html" >
   <LINK REL="made" HREF="mailto:openspace-svn%40lists.berlios.de?Subject=Re%3A%20%5BOpenspace-svn%5D%20r267%20-%20in%20trunk%3A%20.%20icons/big%20src&In-Reply-To=%3C200603241302.k2OD2AY3004289%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000047.html">
   <LINK REL="Next"  HREF="000049.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openspace-svn] r267 - in trunk: . icons/big src</H1>
    <B>compbatant at BerliOS</B> 
    <A HREF="mailto:openspace-svn%40lists.berlios.de?Subject=Re%3A%20%5BOpenspace-svn%5D%20r267%20-%20in%20trunk%3A%20.%20icons/big%20src&In-Reply-To=%3C200603241302.k2OD2AY3004289%40sheep.berlios.de%3E"
       TITLE="[Openspace-svn] r267 - in trunk: . icons/big src">compbatant at berlios.de
       </A><BR>
    <I>Fri Mar 24 14:02:10 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000047.html">[Openspace-svn] r266 - trunk/src
</A></li>
        <LI>Next message: <A HREF="000049.html">[Openspace-svn] r268 - trunk/src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48">[ date ]</a>
              <a href="thread.html#48">[ thread ]</a>
              <a href="subject.html#48">[ subject ]</a>
              <a href="author.html#48">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: compbatant
Date: 2006-03-24 14:02:08 +0100 (Fri, 24 Mar 2006)
New Revision: 267

Added:
   trunk/icons/big/Makefile.in
Modified:
   trunk/mimeapp
   trunk/openspacerc.in
   trunk/src/OSFileList.cpp
   trunk/src/OSFrame.cpp
   trunk/src/OSMainWindow.cpp
   trunk/src/OSMimeApp.cpp
   trunk/src/OSPreferences.cpp
   trunk/src/OSShutter.cpp
Log:
drobne poprawki


Added: trunk/icons/big/Makefile.in
===================================================================
--- trunk/icons/big/Makefile.in	2006-03-15 23:02:09 UTC (rev 266)
+++ trunk/icons/big/Makefile.in	2006-03-24 13:02:08 UTC (rev 267)
@@ -0,0 +1,334 @@
+# Makefile.in generated by automake 1.8.5 from Makefile.am.
+# @configure_input@
+
+# Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+# 2003, 2004  Free Software Foundation, Inc.
+# This Makefile.in is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
+# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+# PARTICULAR PURPOSE.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/openspace-svn">+ at SET_MAKE</A>@
+
+srcdir = @srcdir@
+top_srcdir = @top_srcdir@
+VPATH = @srcdir@
+pkgdatadir = $(datadir)/@PACKAGE@
+pkglibdir = $(libdir)/@PACKAGE@
+pkgincludedir = $(includedir)/@PACKAGE@
+top_builddir = ../..
+am__cd = CDPATH=&quot;$${ZSH_VERSION+.}$(PATH_SEPARATOR)&quot; &amp;&amp; cd
+INSTALL = @INSTALL@
+install_sh_DATA = $(install_sh) -c -m 644
+install_sh_PROGRAM = $(install_sh) -c
+install_sh_SCRIPT = $(install_sh) -c
+INSTALL_HEADER = $(INSTALL_DATA)
+transform = $(program_transform_name)
+NORMAL_INSTALL = :
+PRE_INSTALL = :
+POST_INSTALL = :
+NORMAL_UNINSTALL = :
+PRE_UNINSTALL = :
+POST_UNINSTALL = :
+host_triplet = @host@
+subdir = icons/big
+DIST_COMMON = $(srcdir)/Makefile.am $(srcdir)/Makefile.in
+ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
+am__aclocal_m4_deps = $(top_srcdir)/configure.ac
+am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \
+	$(ACLOCAL_M4)
+mkinstalldirs = $(mkdir_p)
+CONFIG_HEADER = $(top_builddir)/src/config.h
+CONFIG_CLEAN_FILES =
+SOURCES =
+DIST_SOURCES =
+am__installdirs = &quot;$(DESTDIR)$(iconsdir)&quot;
+iconsDATA_INSTALL = $(INSTALL_DATA)
+DATA = $(icons_DATA)
+DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
+ACLOCAL = @ACLOCAL@
+AMDEP_FALSE = @AMDEP_FALSE@
+AMDEP_TRUE = @AMDEP_TRUE@
+AMTAR = @AMTAR@
+AR = @AR@
+AUTOCONF = @AUTOCONF@
+AUTOHEADER = @AUTOHEADER@
+AUTOMAKE = @AUTOMAKE@
+AWK = @AWK@
+CC = @CC@
+CCDEPMODE = @CCDEPMODE@
+CFLAGS = @CFLAGS@
+CPP = @CPP@
+CPPFLAGS = @CPPFLAGS@
+CXX = @CXX@
+CXXCPP = @CXXCPP@
+CXXDEPMODE = @CXXDEPMODE@
+CXXFLAGS = @CXXFLAGS@
+CYGPATH_W = @CYGPATH_W@
+DEFS = @DEFS@
+DEPDIR = @DEPDIR@
+ECHO = @ECHO@
+ECHO_C = @ECHO_C@
+ECHO_N = @ECHO_N@
+ECHO_T = @ECHO_T@
+EGREP = @EGREP@
+EXEEXT = @EXEEXT@
+F77 = @F77@
+FFLAGS = @FFLAGS@
+FOX_CONFIG = @FOX_CONFIG@
+INSTALL_DATA = @INSTALL_DATA@
+INSTALL_PROGRAM = @INSTALL_PROGRAM@
+INSTALL_SCRIPT = @INSTALL_SCRIPT@
+INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
+LDFLAGS = @LDFLAGS@
+LIBOBJS = @LIBOBJS@
+LIBS = @LIBS@
+LIBTOOL = @LIBTOOL@
+LN_S = @LN_S@
+LTLIBOBJS = @LTLIBOBJS@
+MAKEINFO = @MAKEINFO@
+OBJEXT = @OBJEXT@
+PACKAGE = @PACKAGE@
+PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@
+PACKAGE_NAME = @PACKAGE_NAME@
+PACKAGE_STRING = @PACKAGE_STRING@
+PACKAGE_TARNAME = @PACKAGE_TARNAME@
+PACKAGE_VERSION = @PACKAGE_VERSION@
+PATH_SEPARATOR = @PATH_SEPARATOR@
+RANLIB = @RANLIB@
+SET_MAKE = @SET_MAKE@
+SHELL = @SHELL@
+STRIP = @STRIP@
+VERSION = @VERSION@
+XML2_CONFIG = @XML2_CONFIG@
+ac_ct_AR = @ac_ct_AR@
+ac_ct_CC = @ac_ct_CC@
+ac_ct_CXX = @ac_ct_CXX@
+ac_ct_F77 = @ac_ct_F77@
+ac_ct_RANLIB = @ac_ct_RANLIB@
+ac_ct_STRIP = @ac_ct_STRIP@
+am__fastdepCC_FALSE = @am__fastdepCC_FALSE@
+am__fastdepCC_TRUE = @am__fastdepCC_TRUE@
+am__fastdepCXX_FALSE = @am__fastdepCXX_FALSE@
+am__fastdepCXX_TRUE = @am__fastdepCXX_TRUE@
+am__include = @am__include@
+am__leading_dot = @am__leading_dot@
+am__quote = @am__quote@
+bindir = @bindir@
+build = @build@
+build_alias = @build_alias@
+build_cpu = @build_cpu@
+build_os = @build_os@
+build_vendor = @build_vendor@
+datadir = @datadir@
+exec_prefix = @exec_prefix@
+host = @host@
+host_alias = @host_alias@
+host_cpu = @host_cpu@
+host_os = @host_os@
+host_vendor = @host_vendor@
+includedir = @includedir@
+infodir = @infodir@
+install_sh = @install_sh@
+libdir = @libdir@
+libexecdir = @libexecdir@
+localstatedir = @localstatedir@
+mandir = @mandir@
+mkdir_p = @mkdir_p@
+oldincludedir = @oldincludedir@
+prefix = @prefix@
+program_transform_name = @program_transform_name@
+sbindir = @sbindir@
+sharedstatedir = @sharedstatedir@
+sysconfdir = @sysconfdir@
+target_alias = @target_alias@
+iconsdir = $(datadir)/openspace/icons/big
+EXTRA_DIST = *.png
+icons_DATA = *.png
+all: all-am
+
+.SUFFIXES:
+$(srcdir)/Makefile.in:  $(srcdir)/Makefile.am  $(am__configure_deps)
+	@for dep in $?; do \
+	  case '$(am__configure_deps)' in \
+	    *$$dep*) \
+	      cd $(top_builddir) &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) am--refresh \
+		&amp;&amp; exit 0; \
+	      exit 1;; \
+	  esac; \
+	done; \
+	echo ' cd $(top_srcdir) &amp;&amp; $(AUTOMAKE) --gnu  icons/big/Makefile'; \
+	cd $(top_srcdir) &amp;&amp; \
+	  $(AUTOMAKE) --gnu  icons/big/Makefile
+.PRECIOUS: Makefile
+Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
+	@case '$?' in \
+	  *config.status*) \
+	    cd $(top_builddir) &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
+	  *) \
+	    echo ' cd $(top_builddir) &amp;&amp; $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)'; \
+	    cd $(top_builddir) &amp;&amp; $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe);; \
+	esac;
+
+$(top_builddir)/config.status: $(top_srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)
+	cd $(top_builddir) &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) am--refresh
+
+$(top_srcdir)/configure:  $(am__configure_deps)
+	cd $(top_builddir) &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) am--refresh
+$(ACLOCAL_M4):  $(am__aclocal_m4_deps)
+	cd $(top_builddir) &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) am--refresh
+
+mostlyclean-libtool:
+	-rm -f *.lo
+
+clean-libtool:
+	-rm -rf .libs _libs
+
+distclean-libtool:
+	-rm -f libtool
+uninstall-info-am:
+install-iconsDATA: $(icons_DATA)
+	@$(NORMAL_INSTALL)
+	test -z &quot;$(iconsdir)&quot; || $(mkdir_p) &quot;$(DESTDIR)$(iconsdir)&quot;
+	@list='$(icons_DATA)'; for p in $$list; do \
+	  if test -f &quot;$$p&quot;; then d=; else d=&quot;$(srcdir)/&quot;; fi; \
+	  f=&quot;`echo $$p | sed -e 's|^.*/||'`&quot;; \
+	  echo &quot; $(iconsDATA_INSTALL) '$$d$$p' '$(DESTDIR)$(iconsdir)/$$f'&quot;; \
+	  $(iconsDATA_INSTALL) &quot;$$d$$p&quot; &quot;$(DESTDIR)$(iconsdir)/$$f&quot;; \
+	done
+
+uninstall-iconsDATA:
+	@$(NORMAL_UNINSTALL)
+	@list='$(icons_DATA)'; for p in $$list; do \
+	  f=&quot;`echo $$p | sed -e 's|^.*/||'`&quot;; \
+	  echo &quot; rm -f '$(DESTDIR)$(iconsdir)/$$f'&quot;; \
+	  rm -f &quot;$(DESTDIR)$(iconsdir)/$$f&quot;; \
+	done
+tags: TAGS
+TAGS:
+
+ctags: CTAGS
+CTAGS:
+
+
+distdir: $(DISTFILES)
+	@srcdirstrip=`echo &quot;$(srcdir)&quot; | sed 's|.|.|g'`; \
+	topsrcdirstrip=`echo &quot;$(top_srcdir)&quot; | sed 's|.|.|g'`; \
+	list='$(DISTFILES)'; for file in $$list; do \
+	  case $$file in \
+	    $(srcdir)/*) file=`echo &quot;$$file&quot; | sed &quot;s|^$$srcdirstrip/||&quot;`;; \
+	    $(top_srcdir)/*) file=`echo &quot;$$file&quot; | sed &quot;s|^$$topsrcdirstrip/|$(top_builddir)/|&quot;`;; \
+	  esac; \
+	  if test -f $$file || test -d $$file; then d=.; else d=$(srcdir); fi; \
+	  dir=`echo &quot;$$file&quot; | sed -e 's,/[^/]*$$,,'`; \
+	  if test &quot;$$dir&quot; != &quot;$$file&quot; &amp;&amp; test &quot;$$dir&quot; != &quot;.&quot;; then \
+	    dir=&quot;/$$dir&quot;; \
+	    $(mkdir_p) &quot;$(distdir)$$dir&quot;; \
+	  else \
+	    dir=''; \
+	  fi; \
+	  if test -d $$d/$$file; then \
+	    if test -d $(srcdir)/$$file &amp;&amp; test $$d != $(srcdir); then \
+	      cp -pR $(srcdir)/$$file $(distdir)$$dir || exit 1; \
+	    fi; \
+	    cp -pR $$d/$$file $(distdir)$$dir || exit 1; \
+	  else \
+	    test -f $(distdir)/$$file \
+	    || cp -p $$d/$$file $(distdir)/$$file \
+	    || exit 1; \
+	  fi; \
+	done
+check-am: all-am
+check: check-am
+all-am: Makefile $(DATA)
+installdirs:
+	for dir in &quot;$(DESTDIR)$(iconsdir)&quot;; do \
+	  test -z &quot;$$dir&quot; || $(mkdir_p) &quot;$$dir&quot;; \
+	done
+install: install-am
+install-exec: install-exec-am
+install-data: install-data-am
+uninstall: uninstall-am
+
+install-am: all-am
+	@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
+
+installcheck: installcheck-am
+install-strip:
+	$(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM=&quot;$(INSTALL_STRIP_PROGRAM)&quot; \
+	  install_sh_PROGRAM=&quot;$(INSTALL_STRIP_PROGRAM)&quot; INSTALL_STRIP_FLAG=-s \
+	  `test -z '$(STRIP)' || \
+	    echo &quot;INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'&quot;` install
+mostlyclean-generic:
+
+clean-generic:
+
+distclean-generic:
+	-rm -f $(CONFIG_CLEAN_FILES)
+
+maintainer-clean-generic:
+	@echo &quot;This command is intended for maintainers to use&quot;
+	@echo &quot;it deletes files that may require special tools to rebuild.&quot;
+clean: clean-am
+
+clean-am: clean-generic clean-libtool mostlyclean-am
+
+distclean: distclean-am
+	-rm -f Makefile
+distclean-am: clean-am distclean-generic distclean-libtool
+
+dvi: dvi-am
+
+dvi-am:
+
+html: html-am
+
+info: info-am
+
+info-am:
+
+install-data-am: install-iconsDATA
+
+install-exec-am:
+
+install-info: install-info-am
+
+install-man:
+
+installcheck-am:
+
+maintainer-clean: maintainer-clean-am
+	-rm -f Makefile
+maintainer-clean-am: distclean-am maintainer-clean-generic
+
+mostlyclean: mostlyclean-am
+
+mostlyclean-am: mostlyclean-generic mostlyclean-libtool
+
+pdf: pdf-am
+
+pdf-am:
+
+ps: ps-am
+
+ps-am:
+
+uninstall-am: uninstall-iconsDATA uninstall-info-am
+
+.PHONY: all all-am check check-am clean clean-generic clean-libtool \
+	distclean distclean-generic distclean-libtool distdir dvi \
+	dvi-am html html-am info info-am install install-am \
+	install-data install-data-am install-exec install-exec-am \
+	install-iconsDATA install-info install-info-am install-man \
+	install-strip installcheck installcheck-am installdirs \
+	maintainer-clean maintainer-clean-generic mostlyclean \
+	mostlyclean-generic mostlyclean-libtool pdf pdf-am ps ps-am \
+	uninstall uninstall-am uninstall-iconsDATA uninstall-info-am
+
+# Tell versions [3.59,3.63) of GNU make to not export all variables.
+# Otherwise a system limit (for SysV at least) may be exceeded.
+.NOEXPORT:

Modified: trunk/mimeapp
===================================================================
--- trunk/mimeapp	2006-03-15 23:02:09 UTC (rev 266)
+++ trunk/mimeapp	2006-03-24 13:02:08 UTC (rev 267)
@@ -4,16 +4,16 @@
 text:nedit scite gvim kedit gedit xemacs
 image/x-xcf:gimp gimp-2.0 gimp-2.2
 application/pdf:acroread kpdf gpdf xpdf
-application/vnd.sun.xml.impress:ooffice2 ooffice
-application/vnd.sun.xml.calc:ooffice2 ooffice
-application/vnd.sun.xml.writer:ooffice2 ooffice 
-application/vnd.ms-powerpoint:ooffice2 ooffice
-application/vnd.ms-excel:ooffice2 ooffic2
-application/msword:ooffice ooffice2
-application/vnd.oasis.opendocument.presentation:ooffice2 ooffice
-application/vnd.oasis.opendocument.graphics:ooffice2 ooffice
-application/vnd.oasis.opendocument.text:ooffice2 ooffice
-application/vnd.oasis.opendocument.spreadsheet:ooffice2 ooffice
+application/vnd.sun.xml.impress:ooffice2 ooffice soffice
+application/vnd.sun.xml.calc:ooffice2 ooffice soffice
+application/vnd.sun.xml.writer:ooffice2 ooffice soffice
+application/vnd.ms-powerpoint:ooffice2 ooffice soffice
+application/vnd.ms-excel:ooffice2 ooffic2 soffice
+application/msword:ooffice ooffice2 soffice
+application/vnd.oasis.opendocument.presentation:ooffice2 ooffice soffice
+application/vnd.oasis.opendocument.graphics:ooffice2 ooffice soffice
+application/vnd.oasis.opendocument.text:ooffice2 ooffice soffice
+application/vnd.oasis.opendocument.spreadsheet:ooffice2 ooffice soffice
 text/plain:nedit scite gvim kedit gedit xemacs
 application/ogg:xmms freeamp bmp
 application/x-bittorrent:azureus btdownloadcurses.py

Modified: trunk/openspacerc.in
===================================================================
--- trunk/openspacerc.in	2006-03-15 23:02:09 UTC (rev 266)
+++ trunk/openspacerc.in	2006-03-24 13:02:08 UTC (rev 267)
@@ -263,6 +263,7 @@
 		&lt;/totalsize&gt;
 		&lt;new_file&gt;
 			&lt;type&gt;INTERNAL&lt;/type&gt;
+			&lt;text&gt;new file&lt;/text&gt;
 		&lt;/new_file&gt;
 		&lt;umount&gt;
 			&lt;exec&gt;umount {f}&lt;/exec&gt;

Modified: trunk/src/OSFileList.cpp
===================================================================
--- trunk/src/OSFileList.cpp	2006-03-15 23:02:09 UTC (rev 266)
+++ trunk/src/OSFileList.cpp	2006-03-24 13:02:08 UTC (rev 267)
@@ -253,10 +253,11 @@
 
     if(!FXFile::exists(plugin_path.c_str()))
     {
-    plugin_path = FXFile::getUserDirectory (&quot;&quot;).text ()+string(&quot;/.openspace/plugins/filelist/libVfs&quot;)+ pluginName + &quot;.so&quot;;
+    plugin_path = FXFile::getUserDirectory (&quot;&quot;).text ()+string(&quot;/.openspace/plugins/filelist/&quot;)+ pluginName + &quot;.so&quot;;
     }
 
     void *dllhandle = fxdllOpen (plugin_path.c_str ());
+    fxmessage(fxdllError().text());
     if (dllhandle)
     {
     
@@ -1382,7 +1383,7 @@
     if (processing)
     return 0;
 
-commands_tab.clear();
+    commands_tab.clear();
 
     FXEvent *event = (FXEvent *) ptr;
     selectitem ();
@@ -1406,6 +1407,7 @@
 
     int command_num = 0;
 
+    
 
     if (conf-&gt;openxpath (&quot;/OpenspaceConfig/shutter&quot;) != -1)
     {
@@ -1413,10 +1415,8 @@
     while (conf-&gt;getnextnode (res))
     {
 
-
         OSConfigure conflocal = *conf;
-        //shutterItem = new FXShutterItem(shutterFrame,res.c_str(),NULL,      FRAME_SUNKEN|LAYOUT_FILL_X|LAYOUT_FILL_Y|LAYOUT_TOP|LAYOUT_LEFT,0,0,0,0,0,0,0,0,0,0);
-        // shutterItem = new FXShutterItem(shutterFrame,res.c_str(),osicons[8],FRAME_NONE|LAYOUT_FILL_X|LAYOUT_FILL_Y|LAYOUT_TOP|LAYOUT_LEFT,0,0,0,0,0,0,0,0,0,0);
+       
         shutterItem = new FXShutterItem (shutterFrame, res.c_str (), objmanager-&gt;osicons[&quot;execute&quot;], FRAME_NONE | LAYOUT_FILL_X | LAYOUT_FILL_Y | LAYOUT_TOP | LAYOUT_LEFT, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
 
         FXButton *but = shutterItem-&gt;getButton ();
@@ -1426,14 +1426,13 @@
         but-&gt;setIconPosition (ICON_BEFORE_TEXT);
         but-&gt;setJustify (JUSTIFY_LEFT);
         but-&gt;setBackColor (objmanager-&gt;maincolor);
-        //but-&gt;setBackColor (readcolor (conf-&gt;readonestring (&quot;/OpenspaceConfig/colors/maincolor&quot;)));
         content-&gt;setBackColor (getApp ()-&gt;getShadowColor ());
+	
         if (conflocal.openxpath (&quot;/OpenspaceConfig/shutter/&quot; + res + &quot;/command&quot;) != -1)
         {
         string res;
         while (conflocal.getnextstring (res))
         {
-    
 
             string comm_s;
             if (res == &quot;special&quot;)

Modified: trunk/src/OSFrame.cpp
===================================================================
--- trunk/src/OSFrame.cpp	2006-03-15 23:02:09 UTC (rev 266)
+++ trunk/src/OSFrame.cpp	2006-03-24 13:02:08 UTC (rev 267)
@@ -79,6 +79,9 @@
     int z = 0;
     FXButton *prebutton = NULL;
     FXButton *nextbutton = NULL;
+    
+
+    
     while ( z != -1 )
     {
         string path_element = &quot;&quot;;
@@ -94,7 +97,7 @@
                                       0, 0 );
         bt-&gt;setBackColor ( objmanager-&gt;maincolor );
 	
-	if(firstbutton!=NULL)
+ 	if(bt-&gt;getParent()-&gt;id())
         bt-&gt;create ();
 	
         if ( prebutton != NULL )

Modified: trunk/src/OSMainWindow.cpp
===================================================================
--- trunk/src/OSMainWindow.cpp	2006-03-15 23:02:09 UTC (rev 266)
+++ trunk/src/OSMainWindow.cpp	2006-03-24 13:02:08 UTC (rev 267)
@@ -235,7 +235,7 @@
 long OSMainWindow::onAbout ( FXObject * sender, FXSelector sel, void * )
 {
 
-    string msg = &quot;Openspace File Browser &quot; + string( PACKAGE_VERSION ) + &quot;\n\nby Mateusz Dworak (<A HREF="http://openspace.linux.pl">http://openspace.linux.pl</A>)\n\nUsing the FOX C++ GUI Library (<A HREF="http://www.fox-tookit.org">http://www.fox-tookit.org</A>) \n\n icons by Dawn Simon&quot;;
+    string msg = &quot;Openspace File Browser &quot; + string( PACKAGE_VERSION ) + &quot;\n\nby Mateusz Dworak (<A HREF="http://openspace.linux.pl">http://openspace.linux.pl</A>)\n\nUsing the FOX C++ GUI Library (<A HREF="http://www.fox-tookit.org">http://www.fox-tookit.org</A>) \n\nDefault icon set: Gnome-mix&quot;;
 
     FXMessageBox about ( this, &quot;About Openspace&quot;, msg.c_str(), objmanager-&gt;osicons[ &quot;foxbig&quot; ], MBOX_OK | DECOR_TITLE | DECOR_BORDER );
     about.execute ();
@@ -763,7 +763,7 @@
                     FXTRACE ( ( 5, &quot;INIT \n&quot; ) );
                     if ( fil-&gt;init () != false )
                     {
-                    current_frame-&gt;generateMenu( fil-&gt;getDir(), this );   
+                    //current_frame-&gt;generateMenu( fil-&gt;getDir(), this );   
                     }
                     else
                     {

Modified: trunk/src/OSMimeApp.cpp
===================================================================
--- trunk/src/OSMimeApp.cpp	2006-03-15 23:02:09 UTC (rev 266)
+++ trunk/src/OSMimeApp.cpp	2006-03-24 13:02:08 UTC (rev 267)
@@ -67,7 +67,7 @@
     FXVerticalFrame * vertical = new FXVerticalFrame ( this, LAYOUT_SIDE_TOP | LAYOUT_FILL_X | LAYOUT_FILL_Y );
 
     mime_label = new FXLabel( vertical, &quot;&quot; );
-    programsbox = new FXComboBox ( vertical, 20, NULL, 0, FRAME_THICK | LAYOUT_SIDE_TOP | COMBOBOX_STATIC );
+    programsbox = new FXComboBox ( vertical, 20, NULL, 0, FRAME_THICK | LAYOUT_SIDE_TOP );
     programsbox-&gt;setNumVisible( 10 );
 
     FXHorizontalFrame *hori = new FXHorizontalFrame ( vertical, LAYOUT_SIDE_TOP | LAYOUT_FILL_X | LAYOUT_FILL_Y );
@@ -121,12 +121,18 @@
 
 }
 
-long OSMimeApp::onNextPrevious( FXObject * sender, FXSelector sel, void * )
+long OSMimeApp::onNextPrevious( FXObject * sender, FXSelector sel, void *ptr )
 {
     FXushort id = FXSELID( sel );
 
-    if ( id == ID_NEXT &amp;&amp; iter + 1 != mime_vector.end() )
+    if(iter + 1 == mime_vector.end())
     {
+    FXDialogBox::onCmdAccept( sender, sel, ptr );
+    return 0;
+    }
+
+    if ( id == ID_NEXT &amp;&amp; iter +1 != mime_vector.end() )
+    {
         iter++;
     }
     else if ( id == ID_PREVIOUS &amp;&amp; iter != mime_vector.begin() )

Modified: trunk/src/OSPreferences.cpp
===================================================================
--- trunk/src/OSPreferences.cpp	2006-03-15 23:02:09 UTC (rev 266)
+++ trunk/src/OSPreferences.cpp	2006-03-24 13:02:08 UTC (rev 267)
@@ -1407,7 +1407,7 @@
             conf-&gt;addstring( &quot;/OpenspaceConfig/shutter&quot;, shutter_iter-&gt;shutter, &quot;&quot; );
 
         conf-&gt;addstring( &quot;/OpenspaceConfig/shutter/&quot; + shutter_iter-&gt;shutter, &quot;command&quot;, shutter_iter-&gt;command );
-
+	
     }
 
     conf-&gt;removestring ( &quot;/OpenspaceConfig/toolbars&quot; );

Modified: trunk/src/OSShutter.cpp
===================================================================
--- trunk/src/OSShutter.cpp	2006-03-15 23:02:09 UTC (rev 266)
+++ trunk/src/OSShutter.cpp	2006-03-24 13:02:08 UTC (rev 267)
@@ -107,6 +107,6 @@
         zz++;
     }
     if ( this-&gt;getFirst () != NULL )
-        height_size += ( ( ( FXShutterItem * ) this-&gt;getFirst () ) -&gt;getButton () -&gt;getDefaultHeight () + 2 ) * zz - 1;
+        height_size += ( ( ( FXShutterItem * ) this-&gt;getFirst () ) -&gt;getButton () -&gt;getDefaultHeight () + 2 ) * zz;
     return height_size;
 }


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000047.html">[Openspace-svn] r266 - trunk/src
</A></li>
	<LI>Next message: <A HREF="000049.html">[Openspace-svn] r268 - trunk/src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48">[ date ]</a>
              <a href="thread.html#48">[ thread ]</a>
              <a href="subject.html#48">[ subject ]</a>
              <a href="author.html#48">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openspace-svn">More information about the Openspace-svn
mailing list</a><br>
</body></html>
